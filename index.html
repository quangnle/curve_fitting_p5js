<html>
	<head>
		<title>An implementation of the Fitting Cigitized Curves Algorithm - PJ Schneider</title>
		<style>
			body {
				font-family: Arial, sans-serif;
				font-size: 12px;
			}
		</style>
	</head>
	<body>
		<div>
			<p>A demo for Fitting Cigitized Curves Algorithm - PJ Schneider. By <a href="https://legos.hashnode.dev">Legos</a>.</p>			
			<a href="https://legos.hashnode.dev/fitting-digitized-curves-algorithm-p-j-schneider">Read more</a>
		</div>
		<br/>
		<div id="sketch-holder"></div>
		<br/>
		<div style="width:100%; margin: 0px;">
			<ul style="display: box; padding: 5px; margin: 5px; float: left; border-radius: 5px; background-color:green">
				<li style="display: contents; padding: 0px; margin: 0px;">
					<p  id="tolerance" style="float: left; padding: 0px; margin: 0px;">Point Reduction Tolerance (<b>3</b> px): </p> 
					<input id="slider" type="range" min="1" max="20" value="3" style="float: left; padding: 0px; margin: 0px;" onchange="changeTolerance()" > 					
				</li>
				<li style="display: contents; padding: 0px; margin: 0px;">
					<p id="nPoints" style="padding: 0px; margin: 0px;">Number of points: <b>0</b></p>		
				</li>
				<li style="display: contents; padding: 0px; margin: 0px;">
					<p id="nRPoints" style="padding: 0px; margin: 0px;">Number of points after reduction: <b>0</b></p>		
				</li>
				<li style="display: contents; padding: 0px; margin: 0px;">
					<input type="checkbox" id="showControlPoints" checked="true" onchange="toggleControlPoints()"> Show/hide segment end points
				</li>
			</ul>
		</div>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.10.0/p5.js" integrity="sha512-S+9EbrqLIvdeMVI0d4xfxeNpetEDxRTbmdj2fdb4o63bDUQ5wIB8juD75SVzhKSNYlcuFLdWTS56G/qBh9IbGA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
		<script src="vec2.js"></script>
		<script src="douglaspeuker.js"></script>
		<script src="utils.js"></script>
		<script src="bezier.js"></script>
		<script src="pjschneider.js"></script>
		<script src="sketch.js"></script>
		<script>
			function changeTolerance(){
				let slider = document.getElementById("slider");
				let toleranceInput = document.getElementById("tolerance");
				toleranceInput.innerHTML = `Point Reduction Tolerance (<b>${slider.value} </b> px): `;
				tolerance = slider.value;
				rPoints = [];
				result = [];
				drawTheCurve();
			}

			function toggleControlPoints(){
				showControlPoints = !showControlPoints;
				drawTheCurve();
			}
		</script>
	</body>
</html>

